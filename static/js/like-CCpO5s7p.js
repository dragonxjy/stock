var g=(_,v,n)=>new Promise((e,d)=>{var u=a=>{try{c(n.next(a))}catch(l){d(l)}},t=a=>{try{c(n.throw(a))}catch(l){d(l)}},c=a=>a.done?e(a.value):Promise.resolve(a.value).then(u,t);c((n=n.apply(_,v)).next())});import{_ as D}from"./index-BeltsHFN.js";import{a as B,ab as x,ac as T,R as W,p as f,o as p,B as k,E as w,M as G,O as R,u as M,D as P,X,F,e as N,Q as U,S as Y,r as V,$ as q,a2 as H,c as $,w as Q,v as E}from"./vendor-DixqdoKt.js";import{_ as j,G as J,S,H as K}from"./index-BXVDO5jB.js";import{_ as Z}from"./index-CyUaUaxn.js";const ee={class:"watchlist"},te={class:"top-title"},se={class:"top-subtitle"},ae=["onClick"],oe={key:0},le=B({__name:"index",props:x({modelValue:{}},{modelValue:{},modelModifiers:{}}),emits:x(["tabClick"],["update:modelValue"]),setup(_,{emit:v}){const n=v,e=T(_,"modelValue"),d=W([{name:"My list 1",id:"list1"},{name:"My list 2",id:"list2"},{name:"My list 3",id:"list3"}]),u=t=>{e.value=t,n("tabClick",t)};return(t,c)=>{const a=U;return p(),f("div",ee,[k("div",te,w(t.$t("AddToWatchList")),1),k("div",se,w(t.$t("Select your required watchlist to add")),1),(p(!0),f(G,null,R(M(d),(l,b)=>(p(),f("div",{onClick:y=>u(l.id),class:P([{active:l.id==e.value},"tab-list"]),key:b},[X(w(l.name)+" ",1),l.id==e.value?(p(),f("p",oe,[N(a,{size:"24",name:"checked",color:"var(--van-primary-color)"})])):F("",!0)],10,ae))),128))])}}}),ne=j(le,[["__scopeId","data-v-7056be3d"]]),ce={class:"like"},ie=B({__name:"like",props:x({round:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(_,{expose:v}){const{t:n}=Y(),e=T(_,"modelValue"),d=V(),u=V(!1);q(()=>{u.value=e.value.isOptional=="1"});const t=W({stockCode:"",stockId:"",stockName:"",stockGid:"",groupName:""}),c=V(!1),a=r=>g(this,null,function*(){Object.assign(t,{stockCode:e.value.stockCode,stockId:e.value.id,stockName:e.value.name,stockGid:e.value.stockGid}),(yield J(t)).code===200&&(c.value=!1,Object.assign(t,{stockCode:"",stockId:"",stockName:"",stockGid:"",groupName:""}),S(n("Symbol Added Successfully")),setTimeout(()=>{Object.assign(e.value,{isOptional:"1"}),y()},700))}),l=r=>g(this,null,function*(){(yield K(r)).code===200&&(S(n("OperationSuccessful")),E(()=>{Object.assign(e.value,{isOptional:"0"}),y()}))}),b=()=>g(this,null,function*(){e.value.isOptional=="1"?yield l({stockId:e.value.id}):(t.groupName="",c.value=!0)}),y=()=>{E(()=>{const r=d.value.animate([{transform:"scale(1) "},{transform:"scale(0.8) "},{transform:"scale(1) "}],{duration:600,easing:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"});z(),r.play()})},z=()=>{const o=d.value.getBoundingClientRect(),h=o.left+o.width/2,C=o.top+o.height/2,s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",s.style.width="100%",s.style.height="100%",s.style.pointerEvents="none",s.style.zIndex="9999",document.body.appendChild(s);for(let m=0;m<8;m++){const i=document.createElement("div");i.style.position="absolute",i.style.width="4px",i.style.height="4px",i.style.background="var(--van-primary-color)",i.style.borderRadius="50%",i.style.left=h+"px",i.style.top=C+"px";const I=m/8*Math.PI*2,O=20+Math.random()*30,A=Math.cos(I)*O,L=Math.sin(I)*O;s.appendChild(i),i.animate([{transform:"translate(0, 0) scale(1)",opacity:1},{transform:`translate(${A}px, ${L}px) scale(0.2)`,opacity:0}],{duration:800,easing:"ease-out",fill:"forwards"})}setTimeout(()=>{document.body.removeChild(s)},1e3)};return v({collect:y}),(r,o)=>{const h=Z,C=ne,s=D;return p(),f(G,null,[k("div",{onClick:b,class:P({likeContain:!0,active:u.value,borders:r.round})},[k("div",{class:"love",ref_key:"love",ref:d},[k("div",ce,[u.value?(p(),$(h,{key:0,name:"icon-yishoucang",class:"icon"})):(p(),$(h,{key:1,name:"icon-collect",class:"icon"}))])],512),H(r.$slots,"default",{},void 0,!0)],2),N(s,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=m=>c.value=m),class:"watchlist-popup"},{default:Q(()=>[N(C,{modelValue:M(t).groupName,"onUpdate:modelValue":o[0]||(o[0]=m=>M(t).groupName=m),onTabClick:a},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}}),_e=j(ie,[["__scopeId","data-v-aa5f257d"]]);export{_e as _};
