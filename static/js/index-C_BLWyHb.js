var f=(A,y,u)=>new Promise((o,c)=>{var N=v=>{try{h(u.next(v))}catch(m){c(m)}},p=v=>{try{h(u.throw(v))}catch(m){c(m)}},h=v=>v.done?o(v.value):Promise.resolve(v.value).then(N,p);h((u=u.apply(A,y)).next())});import{_ as ss}from"./index-BeltsHFN.js";import{_ as es}from"./index-CyUaUaxn.js";import{p as d,A as z,M as C,S as E}from"./big-Bs49lsdF.js";import{f as V,g as F}from"./index-BW6EuzMu.js";import{u as Y}from"./stock-X0YulnmI.js";import{c as ts,W as as,_ as U,B as os,C as is}from"./index-BXVDO5jB.js";import{a as j,ab as ls,R as D,A as W,S as Q,ac as ns,N as ds,$ as cs,p as _,o as r,B as s,F as S,D as w,u as t,E as a,e as g,r as b,w as k,M as L,O as P,c as rs,V as _s,Q as us,W as ps}from"./vendor-DixqdoKt.js";import{_ as vs}from"./index.vue_vue_type_script_setup_true_lang-Cd_OulVb.js";import{_ as hs}from"./index-Blhuho0a.js";import"./loading-8XKiFQcW.js";const ms={class:"order_detail_popup"},$s={class:"status_header"},gs={class:"status_tags"},ys={class:"exchange_tag"},fs={key:0,class:"status_badge rejected"},bs={class:"stock_title"},ks={class:"order_info_section"},Ss={class:"info_row"},Ns={class:"label"},Os={class:"value"},Ts={class:"detail_sections"},Cs={class:"detail_item"},ws={class:"detail_item_title"},As={class:"detail_item_value"},Ms={class:"detail_item"},Ls={class:"detail_item_title"},Ds={class:"detail_item_value"},Vs={class:"detail_item"},Ps={class:"detail_item_title"},Fs={class:"detail_item_value"},Is={key:0,class:"order_details"},Rs={class:"detail_row"},Bs={class:"detail_label"},zs={class:"detail_value"},Es={class:"detail_row"},Ys={class:"detail_label"},Us={class:"detail_value"},js={class:"detail_row"},Ws={class:"detail_label"},Qs={class:"detail_value"},qs={class:"detail_row"},Hs={class:"detail_label"},Gs={class:"detail_value"},Js={class:"detail_row"},Ks={class:"detail_label"},Xs={class:"detail_value"},Zs={class:"detail_row"},xs={class:"detail_label"},se={class:"detail_value"},ee={class:"detail_row"},te={class:"detail_label"},ae={key:1,class:"order_details"},oe={class:"detail_row"},ie={class:"detail_label"},le={class:"detail_value"},ne={class:"detail_row"},de={class:"detail_label"},ce={class:"detail_value"},re={class:"detail_row"},_e={class:"detail_label"},ue={class:"detail_value"},pe={class:"detail_row"},ve={class:"detail_label"},he={class:"detail_value"},me={class:"detail_row"},$e={class:"detail_label"},ge={class:"detail_value"},ye={class:"detail_row"},fe={class:"detail_label"},be={class:"detail_value"},ke={class:"detail_row"},Se={class:"detail_label"},Ne={class:"detail_value"},Oe={class:"detail_row"},Te={class:"detail_label"},Ce={class:"detail_value"},we={class:"action_buttons"},Ae={class:"icon_placeholder"},Me={class:"icon_placeholder"},Le=j({__name:"orderDetail",props:ls({tabsActive:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(A){const y=Y(),u=ts(),o=D({}),c=D({}),N=W(),{t:p}=Q(),h=ns(A,"modelValue");ds(()=>{Object.assign(c,u.settingInfo)}),cs(()=>{Object.assign(o,y.positionDetail)});const v=()=>f(this,null,function*(){yield y.getStockDetail({stockCode:o.stockCode}),N.push({path:"/dealings",query:{stockCode:o.stockCode}})}),m=()=>f(this,null,function*(){if(u.settingInfo.isSell==0&&u.overallBalanceInfo.ipoFreeze>0){as(p("NosellHaveIPOFreeze"));return}yield y.sellStock(o.orderSn),h.value=!1});return(e,I)=>{const O=es;return r(),_("div",ms,[s("div",$s,[s("div",gs,[s("div",{class:w(["buy_sell_tag_buy",t(o).sellOrderTime?"sell_tag":"buy_tag"])},a(t(o).sellOrderTime?e.$t("SELL"):e.$t("BUY")),3),s("div",ys,a(t(o).exchangeId===46?e.$t("NSE"):e.$t("BSE"))+"-DELIVERY ",1)]),t(o).type==0&&e.tabsActive!=4?(r(),_("div",fs,a(e.$t("ClosedPositions")),1)):S("",!0)]),s("div",bs,a(t(o).stockName),1),s("div",ks,[s("div",Ss,[s("span",Ns,a(e.$t("OrderNo")),1),s("span",Os,a(t(o).orderSn),1)])]),s("div",Ts,[s("div",Cs,[s("div",ws,a(e.$t("LTP")),1),s("div",As,a(("point_"in e?e.point_:t(d))(t(o).buyOrderPrice,3)),1)]),s("div",Ms,[s("div",Ls,a(e.$t("Quantity")),1),s("div",Ds,a(t(o).orderNum),1)]),s("div",Vs,[s("div",Ps,a(e.$t("price")),1),s("div",Fs,a(("Act_"in e?e.Act_:t(z))(("Mct_"in e?e.Mct_:t(C))(t(o).buyOrderPrice,t(o).orderNum),t(o).isDz==1?t(o).orderFee&&t(c).isDeductCommission==1?t(o).orderFee:0:t(o).orderFee?t(o).orderFee:0,3)),1)])]),t(o).sellOrderTime?S("",!0):(r(),_("div",Is,[s("div",Rs,[s("span",Bs,a(e.$t("OrderType")),1),s("span",zs,a(t(o).tradeAccountType===1?e.$t("CashAccount"):t(o).tradeAccountType===2?e.$t("LoanAccount"):""),1)]),s("div",Es,[s("span",Ys,a(e.$t("OrderTime")),1),s("span",Us,a(("formatDMYhms"in e?e.formatDMYhms:t(V))(t(o).buyOrderTime)),1)]),s("div",js,[s("span",Ws,a(e.$t("DisclosedQuantity")),1),s("span",Qs,a(t(o).orderNum?t(o).orderNum:"-"),1)]),s("div",qs,[s("span",Hs,a(e.$t("Order")+" "+e.$t("Fee")),1),s("span",Gs,a(("point_"in e?e.point_:t(d))(t(o).orderFee,3)),1)]),s("div",Js,[s("span",Ks,a(e.$t("Shijia")),1),s("span",Xs,a(("point_"in e?e.point_:t(d))(t(o).last,3)),1)]),s("div",Zs,[s("span",xs,a(e.$t("MarketValue")),1),s("span",se,a(("Mct_"in e?e.Mct_:t(C))(t(o).last,t(o).orderNum,3)),1)]),s("div",ee,[s("span",te,a(e.$t("FloatYInkui")),1),s("span",{class:w(["detail_value",[("getColorClass"in e?e.getColorClass:t(F))(t(o).calcRiseAndFallRatioRation)]])},[s("span",null,a(t(o).sellOrderId?("point_"in e?e.point_:t(d))(t(o).profitAndLose,3):("point_"in e?e.point_:t(d))(("Mct_"in e?e.Mct_:t(C))(("Sct_"in e?e.Sct_:t(E))(t(o).last,t(o).buyOrderPrice),t(o).orderNum),3)),1),s("span",null,"("+a(("point_"in e?e.point_:t(d))(t(o).calcRiseAndFallRatioRation,3))+"%)",1)],2)])])),t(o).sellOrderTime?(r(),_("div",ae,[s("div",oe,[s("span",ie,a(e.$t("OrderType")),1),s("span",le,a(t(o).tradeAccountType==1?e.$t("CashAccount"):t(o).tradeAccountType==2?e.$t("LoanAccount"):""),1)]),s("div",ne,[s("span",de,a(e.$t("BuyTime")),1),s("span",ce,a(("formatDMYhms"in e?e.formatDMYhms:t(V))(t(o).buyOrderTime)),1)]),s("div",re,[s("span",_e,a(e.$t("SellTime")),1),s("span",ue,a(("formatDMYhms"in e?e.formatDMYhms:t(V))(t(o).sellOrderTime)),1)]),s("div",pe,[s("span",ve,a(e.$t("IntOrderNo")),1),s("span",he,a(t(o).sellOrderId||"-"),1)]),s("div",me,[s("span",$e,a(e.$t("SellPrice")),1),s("span",ge,a(("point_"in e?e.point_:t(d))(t(o).sellOrderPrice,3)),1)]),s("div",ye,[s("span",fe,a(e.$t("MarketValue")),1),s("span",be,a(("point_"in e?e.point_:t(d))(t(o).totalMarketCapitalization,3)),1)]),s("div",ke,[s("span",Se,a(e.$t("ProfitAndLoss")),1),s("span",Ne,a(("point_"in e?e.point_:t(d))(t(o).profitAndLose,3)),1)]),s("div",Oe,[s("span",Te,a(e.$t("Fee")),1),s("span",Ce,a(("point_"in e?e.point_:t(d))(t(o).sellFee,3)),1)])])):S("",!0),s("div",we,[s("div",{class:"icon_button buy_btn",onClick:v},[s("div",Ae,[g(O,{name:"icon-goumai"})]),s("span",null,a(e.$t("BUY")),1)]),t(o).type==1?(r(),_("div",{key:0,class:"icon_button close_btn",onClick:m},[s("div",Me,[g(O,{name:"icon-maichuqu"})]),s("span",null,a(e.$t("CLOSE")),1)])):S("",!0)])])}}}),De=U(Le,[["__scopeId","data-v-e6588157"]]),Ve={class:"order-container"},Pe={class:"tab-content"},Fe={class:"search"},Ie=["onClick"],Re={class:"top"},Be={class:"tags"},ze={class:"tag exchange"},Ee={key:0,class:"separator"},Ye={class:"ipo-tags"},Ue={key:0,class:"ipo"},je={key:1,class:"bt"},We={class:"info"},Qe={class:"label"},qe={class:"value"},He={class:"middle_order"},Ge={class:"stock"},Je={class:"name"},Ke={class:"price_order"},Xe={class:"priceRed"},Ze={class:"middle_order"},xe={class:"stock"},st={class:"price_order"},et={class:"list"},tt={class:"top"},at={class:"tags_warn"},ot={class:"name"},it={class:"tags"},lt={class:"middle"},nt={class:"unitPrice"},dt={class:"price"},ct={class:"price"},rt={class:"bottom"},_t={class:"applyPrice"},ut={class:"finalNum"},pt=j({__name:"index",setup(A){const y=Y(),{t:u}=Q();W();const o=b(!1),c=b(!1),N=b([{name:"1",title:u("Orders")},{name:"2",title:u("Trades")},{name:"3",title:u("HistoryOrders")},{name:"4",title:u("ClosedPositions")}]),p=D({pageNum:1,pageSize:10,searchType:1,stockName:"",stockType:3,type:1}),h=b([]),v=()=>f(this,null,function*(){try{const i=yield os(p);i.code===200?(o.value=!1,i.body.records.length!=p.pageSize?c.value=!0:p.pageNum++,h.value=[...h.value,...i.body.records]):(o.value=!1,c.value=!0)}catch(i){o.value=!1,c.value=!0}}),m=b([]),e=D({order:"desc",orderField:"create_date",pageNum:1,pageSize:10,publishStatus:1,statusStrList:"3,4,5,6,8"}),I=()=>f(this,null,function*(){try{const i=yield is(e);i.code===200?(o.value=!1,i.body.records.length!=e.pageSize?c.value=!0:e.pageNum++,m.value=[...m.value,...i.body.records]):(o.value=!1,c.value=!0)}catch(i){o.value=!1,c.value=!0}}),O=()=>f(this,null,function*(){v()}),q=()=>{h.value=[],m.value=[],c.value=!1},M=b(1),H=i=>{i==1&&Object.assign(p,{pageNum:1,pageSize:10,searchType:1,stockName:"",stockType:3,type:1}),i==2&&Object.assign(p,{pageNum:1,pageSize:10,searchType:2,stockName:"",stockType:1,type:1}),i==3&&Object.assign(p,{pageNum:1,pageSize:10,searchType:null,stockName:"",stockType:null,type:1}),i==4&&Object.assign(p,{pageNum:1,pageSize:10,searchType:null,stockName:"",stockType:null,type:0}),i==5?(Object.assign(e,{pageNum:1}),o.value=!0,I()):(q(),o.value=!0,v()),M.value=i},T=b(!1),G=i=>f(this,null,function*(){(M.value==1||M.value==4)&&(yield y.getPositionDetail(i.id)),T.value=!0});return(i,$)=>{const J=us,K=hs,R=vs,B=_s,X=ps,Z=De,x=ss;return r(),_(L,null,[s("div",Ve,[g(X,{shrink:"",onChange:H},{default:k(()=>[(r(!0),_(L,null,P(N.value,n=>(r(),rs(B,{key:n.name,title:n.title,name:n.name},{default:k(()=>[s("div",Pe,[s("div",Fe,[g(K,{type:"text",class:"input",placeholder:i.$t("SearchScripegsbiniftyfut"),modelValue:p.stockName,"onUpdate:modelValue":$[0]||($[0]=l=>p.stockName=l)},{"left-icon":k(()=>[g(J,{name:"search",size:"20",color:"var(--secondary-text-color)"})]),_:1},8,["placeholder","modelValue"])]),g(R,{list:h.value,modelValue:o.value,"onUpdate:modelValue":$[1]||($[1]=l=>o.value=l),finished:c.value,onLoad:O},{default:k(()=>[(r(!0),_(L,null,P(h.value,l=>(r(),_("div",{class:"item",onClick:vt=>G(l),key:l.id},[s("div",Re,[s("div",Be,[s("div",ze,a(l.exchangeId==46?i.$t("NSE"):i.$t("BSE")),1),s("div",{class:w(["tag",l.sellOrderTime?"sell":"buy"])},a(l.sellOrderTime?i.$t("SELL"):i.$t("BUY")),3),l.stockType==2||l.stockType==1?(r(),_("div",Ee," â€¢ ")):S("",!0),s("div",Ye,[l.stockType==2?(r(),_("div",Ue,"IPO")):S("",!0),l.stockType==1?(r(),_("div",je,"BT")):S("",!0)])]),s("div",We,[s("div",Qe,a(i.$t("Quantity"))+":",1),s("div",qe,a(l.orderNum),1)])]),s("div",He,[s("div",Ge,[s("div",Je,a(l.stockName),1)]),s("div",Ke,[s("p",null,a(i.$t("price"))+":",1),s("p",Xe,a(("Act_"in i?i.Act_:t(z))(("Mct_"in i?i.Mct_:t(C))(l.buyOrderPrice,l.orderNum),l.orderFee)),1)])]),s("div",Ze,[s("div",xe,[s("p",null,a(i.$t("Last"))+":",1),s("p",null,a(("point_"in i?i.point_:t(d))(l.last)),1)]),s("div",st,[s("p",{class:w([("getColorClass"in i?i.getColorClass:t(F))(l.latestRiseAndFallRatio),"with-bg"])},a(l.type==0?("point_"in i?i.point_:t(d))(l.profitAndLose):("Mct_"in i?i.Mct_:t(C))(("Sct_"in i?i.Sct_:t(E))(l.last,l.buyOrderPrice),l.orderNum)),3),s("p",{class:w(["with-bg",("getColorClass"in i?i.getColorClass:t(F))(l.latestRiseAndFallRatio)])}," ("+a(("point_"in i?i.point_:t(d))(l.latestRiseAndFallRatio,3))+"%) ",3)])])],8,Ie))),128))]),_:1},8,["list","modelValue","finished"])])]),_:2},1032,["title","name"]))),128)),g(B,{title:i.$t("WinningRecords"),name:"5"},{default:k(()=>[g(R,{list:m.value,modelValue:o.value,"onUpdate:modelValue":$[2]||($[2]=n=>o.value=n),finished:c.value,onLoad:O,class:"tab-content"},{default:k(()=>[s("div",et,[(r(!0),_(L,null,P(m.value,n=>(r(),_("div",{class:"item",key:n.id},[s("div",tt,[s("div",at,[s("div",ot,a(n.name),1),s("div",it,a(n.exchangeId==46?i.$t("NSE"):i.$t("BSE")),1)])]),s("div",lt,[s("div",nt,a(i.$t("UnitPrice"))+": "+a(n.buyPrice),1),s("div",dt,[s("p",null,a(i.$t("Paid")),1),s("p",null,a(("point_"in i?i.point_:t(d))(n.ipoSubBalance)),1)]),s("div",ct,[s("p",null,a(i.$t("Unipaid"))+":",1),s("p",null,a(("point_"in i?i.point_:t(d))(n.ipoFreeze)),1)])]),s("div",rt,[s("div",_t,a(i.$t("Apply"))+": "+a(n.applyNum),1),s("div",ut,a(i.$t("Winthelottery"))+": "+a(("point_"in i?i.point_:t(d))(n.finalNum)),1)])]))),128))])]),_:1},8,["list","modelValue","finished"])]),_:1},8,["title"])]),_:1})]),g(x,{modelValue:T.value,"onUpdate:modelValue":$[4]||($[4]=n=>T.value=n)},{default:k(()=>[g(Z,{tabsActive:M.value,modelValue:T.value,"onUpdate:modelValue":$[3]||($[3]=n=>T.value=n)},null,8,["tabsActive","modelValue"])]),_:1},8,["modelValue"])],64)}}}),Tt=U(pt,[["__scopeId","data-v-cb81d23a"]]);export{Tt as default};
