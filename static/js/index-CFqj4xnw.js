var I=(v,l,t)=>new Promise((u,s)=>{var m=n=>{try{e(t.next(n))}catch(r){s(r)}},_=n=>{try{e(t.throw(n))}catch(r){s(r)}},e=n=>n.done?u(n.value):Promise.resolve(n.value).then(m,_);e((t=t.apply(v,l)).next())});import{a as S,A as k,S as w,r as $,R as M,N as O,p as A,o as y,B as d,e as a,E as f,M as C,O as U,Y as W,w as i,u as p,X as R,D as x,V as z,I as D,W as E}from"./vendor-DixqdoKt.js";import{_ as F}from"./index-BmwkXZpg.js";import{_ as P}from"./index-CyUaUaxn.js";import{_ as q}from"./index-BMe1pI0l.js";import{_ as H}from"./MainButton.vue_vue_type_script_setup_true_lang-B7_wmTtQ.js";import{_ as X}from"./index-Blhuho0a.js";import{c as Y,W as g,t as j,S as G,_ as h}from"./index-BXVDO5jB.js";import"./index-BeltsHFN.js";import"./PublicButton-CnD3tZlj.js";import"./index-Bhr3i5rn.js";import"./index-BW6EuzMu.js";const J={class:"loan_content"},K={class:"content_title"},Q={class:"amount_box"},Z=["onClick"],ee={class:"content_title"},ne={class:"input_field"},te=S({__name:"loan",setup(v){const l=k(),t=Y(),{t:u}=w(),s=$(""),m=[{label:"50,000",value:"50000"},{label:"100,000",value:"100000"},{label:"200,000",value:"200000"},{label:"500,000",value:"500000"},{label:"1,000,000",value:"1000000"},{label:"2,000,000",value:"2000000"}],_=o=>{e.loanApplyAmount=o},e=M({memberId:t.userInfo.id,memberName:t.userInfo.realName,loanApplyAmount:""}),n=$(!1),r=()=>I(this,null,function*(){if(t.userInfo.isActive!=2)return g(u("Orderfailedpleasefirstrealnameauthentication"));if(Number(e.loanApplyAmount)<Number(s.value))return g(u("Theminimumdepositamountis")+s.value);if(t.settingInfo.isLoan==0)return g(u("Loanfunctionisnotcurrentlyavailable"));n.value=!0,(yield j(e)).code==200&&(n.value=!1,G(u("Successful")),e.loanApplyAmount="",l.push({name:"loanRecords"}))});return O(()=>{s.value=t.settingInfo.minimumAmount}),(o,b)=>{const N=X,T=H,V=W,L=q;return y(),A("div",J,[d("p",K,f(o.$t("Loanlimit")),1),d("div",Q,[(y(),A(C,null,U(m,(c,B)=>d("div",{key:B,class:x(["amount_item",{active:p(e).loanApplyAmount==c.value}]),onClick:re=>_(c.value)},f(c.label),11,Z)),64))]),a(V,{onSubmit:r},{default:i(()=>[d("p",ee,f(o.$t("Customamount")),1),d("div",ne,[a(N,{modelValue:p(e).loanApplyAmount,"onUpdate:modelValue":b[0]||(b[0]=c=>p(e).loanApplyAmount=c),type:"number",onInput:b[1]||(b[1]=c=>p(e).loanApplyAmount=p(e).loanApplyAmount.replace(/[^\d.]/g,"").replace(/(\.\d{2})\d+/,"$1").replace(/(\..*)\./g,"$1")),placeholder:o.$t("Theminimumloanamountis")+s.value,rules:[{required:!0,message:o.$t("Customamount")}]},null,8,["modelValue","placeholder","rules"])]),a(T,{block:"",class:"submit_btn",loading:n.value},{default:i(()=>[R(f(o.$t("Apply")),1)]),_:1},8,["loading"])]),_:1}),a(L,null,{default:i(()=>[R(f(o.$t("Pleasemakeyourrepaymentsontime")),1)]),_:1})])}}}),oe=h(te,[["__scopeId","data-v-ccd50453"]]),ae={};function se(v,l){return y(),A("div",null,"Repayment")}const le=h(ae,[["render",se]]),ue=S({__name:"index",setup(v){const l=$(0),t=k(),u=()=>{t.push({name:"loanRecords"})};return(s,m)=>{const _=P,e=F,n=z,r=E;return y(),A(C,null,[a(e,null,{right:i(()=>[a(_,{name:"icon-shizhong",class:"icon",onClick:u})]),_:1}),a(r,{class:"assets_tabs",active:p(l),"onUpdate:active":m[0]||(m[0]=o=>D(l)?l.value=o:null)},{default:i(()=>[a(n,{title:s.$t("Loan")},{default:i(()=>[a(oe)]),_:1},8,["title"]),a(n,{title:s.$t("Repayment")},{default:i(()=>[a(le)]),_:1},8,["title"])]),_:1},8,["active"])],64)}}}),$e=h(ue,[["__scopeId","data-v-b64fb939"]]);export{$e as default};
