var u=(v,_,o)=>new Promise((a,n)=>{var d=e=>{try{c(o.next(e))}catch(l){n(l)}},i=e=>{try{c(o.throw(e))}catch(l){n(l)}},c=e=>e.done?a(e.value):Promise.resolve(e.value).then(d,i);c((o=o.apply(v,_)).next())});import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-Cd_OulVb.js";import{_ as x}from"./index-Bhr3i5rn.js";import{g as L,_ as S}from"./index-BXVDO5jB.js";import{a as C,A as V,r as m,R as B,p,o as f,e as h,w as D,B as r,M as I,O as b,E as w}from"./vendor-DixqdoKt.js";import{u as z}from"./stock-X0YulnmI.js";import"./index-BW6EuzMu.js";import"./loading-8XKiFQcW.js";const A={class:"news"},E={class:"news-list"},R=["onClick"],$={class:"img"},q={class:"contents"},F={class:"title"},M={class:"time"},O=C({__name:"index",setup(v){const _=V(),o=z(),a=m([]),n=m(!1),d=m(!1),i=B({pageNum:1,pageSize:10}),c=()=>u(this,null,function*(){const s=yield L(i);s.code===200&&(n.value=!1,s.body.records.length!=i.pageSize?d.value=!0:i.pageNum++,a.value=[...a.value,...s.body.records])}),e=s=>u(this,null,function*(){yield o.getNewsDetail(s),_.push({path:"/newsDetail",query:{newsId:s}})}),l=()=>{c()};return(s,g)=>{const k=x,y=N;return f(),p("div",A,[h(y,{modelValue:n.value,"onUpdate:modelValue":g[0]||(g[0]=t=>n.value=t),onLoad:l,list:a.value,finished:d.value},{default:D(()=>[r("div",E,[(f(!0),p(I,null,b(a.value,t=>(f(),p("div",{onClick:P=>e(t.id),key:t.id,class:"news-item"},[r("div",$,[h(k,{fit:"cover",src:t.img,class:"image"},null,8,["src"])]),r("div",q,[r("div",F,w(t.title),1),r("div",M,w(t.createTime),1)])],8,R))),128))])]),_:1},8,["modelValue","list","finished"])])}}}),W=S(O,[["__scopeId","data-v-d8949ae5"]]);export{W as default};
