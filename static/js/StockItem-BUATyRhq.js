var Y=Object.defineProperty;var w=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var S=(i,n,o)=>n in i?Y(i,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[n]=o,g=(i,n)=>{for(var o in n||(n={}))q.call(n,o)&&S(i,o,n[o]);if(w)for(var o of w(n))A.call(n,o)&&S(i,o,n[o]);return i};var b=(i,n,o)=>new Promise((r,u)=>{var _=c=>{try{d(o.next(c))}catch(m){u(m)}},t=c=>{try{d(o.throw(c))}catch(m){u(m)}},d=c=>c.done?r(c.value):Promise.resolve(c.value).then(_,t);d((o=o.apply(i,n)).next())});import{a as M,ae as z,r as k,p as F,o as N,B as e,a2 as $,D as y,af as L,v as W,A as j,S as O,N as R,a9 as I,a8 as X,c as G,w as h,E as a,u as p,e as f,a4 as B,X as J}from"./vendor-DixqdoKt.js";import{_ as P}from"./index-BXVDO5jB.js";import{_ as Q}from"./MainButton.vue_vue_type_script_setup_true_lang-B7_wmTtQ.js";import{_ as Z}from"./like-CCpO5s7p.js";import{_ as x}from"./PublicButton-CnD3tZlj.js";import{_ as ss}from"./index-CyUaUaxn.js";import{p as v}from"./big-Bs49lsdF.js";import{g as D,f as ts}from"./index-BW6EuzMu.js";import{u as es,a as os}from"./stock-X0YulnmI.js";const ns={class:"collapse"},as={class:"contents"},is=M({__name:"index",props:{title:{},bgContentColor:{default:"transparent"},bgTitlesColor:{default:""},titIcon:{default:""}},setup(i){z(t=>({61125802:t.bgTitlesColor}));const n=k(!1),o=k(0),r=k(null),u=()=>{r.value&&requestAnimationFrame(()=>{o.value=r.value.scrollHeight})},_=()=>{n.value=!n.value,W(()=>{u()})};return(t,d)=>(N(),F("div",ns,[e("div",{class:y({title:!0,border:n.value}),onClick:_},[$(t.$slots,"title",{},void 0,!0)],2),e("div",{ref_key:"content",ref:r,class:"collapse_content",style:L({maxHeight:n.value?o.value+"px":"0px",background:t.bgContentColor})},[e("div",as,[$(t.$slots,"content",{},void 0,!0)])],4)]))}}),ls=P(is,[["__scopeId","data-v-cd66b7a6"]]),cs={class:"stock-info"},rs={class:"stock-header"},ps={class:"stock-symbol"},us={class:"symbol-text"},_s={class:"tips"},ds={class:"exchange-label"},ms={class:"stock-name"},hs={class:"stock-price"},vs={class:"price-info"},gs={class:"current-price"},fs={class:"time-stamp"},ks={class:"stock-details"},Cs={class:"price-details"},bs={class:"price-item"},ys={class:"price-label"},ws={class:"price-value"},Ss={class:"price-item"},$s={class:"price-label"},Is={class:"price-item"},Bs={class:"price-label"},Ds={class:"price-value"},Ms={class:"stock-actions"},Ns={class:"action-buttons"},Ps={class:"collect_"},Ts=M({__name:"StockItem",props:{item:{}},setup(i){"vue";const n=es(),o=os(),r=j(),{t:u}=O(),_=i,t=k(g({},_.item)),d=s=>s==46?u("NSE"):u("BSE"),c=s=>b(this,null,function*(){yield n.getStockDetail({stockId:s.id}),r.push({path:"/marketDetail",query:{stockId:s.id}})}),m=s=>b(this,null,function*(){yield n.getStockDetail({stockId:s.id}),r.push({path:"/dealings",query:{stockId:s.id}})}),T=s=>{if(_.item.stockCode&&s.pid==_.item.stockCode){const l={last:s.last_numeric||t.value.last,chg:s.pc||t.value.chg,chgPct:s.pcp||t.value.chgPct,high:s.high||t.value.high,low:s.low||t.value.low};t.value=g(g({},t.value),l)}};return R(()=>{I.subscribe(o.wsKey,(s,l)=>{T(l)})}),X(()=>{I.unsubscribe(o.wsKey)}),(s,l)=>{const E=ss,H=x,V=Z,K=Q,U=ls;return N(),G(U,null,{title:h(()=>[e("div",cs,[e("div",rs,[e("div",ps,[e("span",us,a(t.value.stockName),1),e("div",_s,[e("span",ds,a(d(t.value.exchangeId)),1),e("span",ms,a(t.value.symbolAlias||t.value.symbol),1)])]),e("div",hs,[e("div",vs,[e("span",gs,a(("point_"in s?s.point_:p(v))(t.value.last)),1),e("span",{class:y(["price-change",[("getColorClass"in s?s.getColorClass:p(D))(t.value.chgPct),"with-bg"]])}," ("+a(("point_"in s?s.point_:p(v))(t.value.chgPct))+"%) ",3)]),e("span",fs,a(("formatDMYhms"in s?s.formatDMYhms:p(ts))(t.value.addTime)),1)])])])]),content:h(()=>[e("div",ks,[e("div",Cs,[e("div",bs,[e("span",ys,a(s.$t("Low")),1),e("span",ws,a(("point_"in s?s.point_:p(v))(t.value.low)),1)]),e("div",Ss,[e("span",$s,a(s.$t("chg")),1),e("span",{class:y(["price-value",("getColorClass"in s?s.getColorClass:p(D))(t.value.chgPct)])},a(("point_"in s?s.point_:p(v))(t.value.chg)),3)]),e("div",Is,[e("span",Bs,a(s.$t("High")),1),e("span",Ds,a(("point_"in s?s.point_:p(v))(t.value.high)),1)])]),e("div",Ms,[e("div",Ns,[f(H,{class:"k",onClick:l[0]||(l[0]=B(C=>c(t.value),["stop"]))},{default:h(()=>[f(E,{name:"icon-Kxian",class:"icon"})]),_:1}),f(V,{"model-value":t.value,"onUpdate:modelValue":l[1]||(l[1]=C=>Object.assign(t.value,C))},{default:h(()=>[e("p",Ps,a(s.$t("Watchlist")),1)]),_:1},8,["model-value"])]),f(K,{class:"buy-btn",onClick:l[2]||(l[2]=B(C=>m(t.value),["stop"]))},{default:h(()=>[J(a(s.$t("BUY")),1)]),_:1})])])]),_:1})}}}),Ls=P(Ts,[["__scopeId","data-v-d18cb383"]]);export{Ls as _};
