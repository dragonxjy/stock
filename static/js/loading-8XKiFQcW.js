var v=(s,t,d)=>new Promise((o,i)=>{var a=c=>{try{n(d.next(c))}catch(r){i(r)}},e=c=>{try{n(d.throw(c))}catch(r){i(r)}},n=c=>c.done?o(c.value):Promise.resolve(c.value).then(a,e);n((d=d.apply(s,t)).next())});import{a as h,p as f,o as k,B as l,q as y,E as w,v as _,e as x,t as b}from"./vendor-DixqdoKt.js";import{_ as S}from"./index-BXVDO5jB.js";const q={class:"loading"},B={class:"loading_mask"},M={class:"loading_content"},C={class:"loading_tip"},u=300,E=h({__name:"index",props:{message:{default:"Loading..."}},emits:["close"],setup(s,{expose:t,emit:d}){return t({show:()=>{_(()=>{document.querySelector(".loading_mask").animate([{opacity:0},{opacity:1}],{duration:u,easing:"ease-in-out"})})},hide:()=>new Promise(a=>{const n=document.querySelector(".loading_mask").animate([{opacity:1},{opacity:0}],{duration:u,easing:"ease-in-out"});n.onfinish=()=>{a(!0)}})}),(a,e)=>(k(),f("div",q,[l("div",B,[l("div",M,[e[0]||(e[0]=y('<div class="loader" data-v-83e3c8b0><div class="bar1" data-v-83e3c8b0></div><div class="bar2" data-v-83e3c8b0></div><div class="bar3" data-v-83e3c8b0></div><div class="bar4" data-v-83e3c8b0></div><div class="bar5" data-v-83e3c8b0></div><div class="bar6" data-v-83e3c8b0></div><div class="bar7" data-v-83e3c8b0></div><div class="bar8" data-v-83e3c8b0></div><div class="bar9" data-v-83e3c8b0></div><div class="bar10" data-v-83e3c8b0></div><div class="bar11" data-v-83e3c8b0></div><div class="bar12" data-v-83e3c8b0></div></div>',1)),l("div",C,w(a.message),1)])])]))}}),N=S(E,[["__scopeId","data-v-83e3c8b0"]]);let m=!1;const p=[],D={show(s){return new Promise(t=>{p.push({message:s==null?void 0:s.message,resolve:t}),g()})}};function g(){return v(this,null,function*(){if(m)return;const s=p.shift();if(!s)return;m=!0;const{message:t,resolve:d}=s,o=document.createElement("div");document.body.appendChild(o);const i=x(N,{message:t});b(i,o),_(()=>{var a,e;(e=(a=i.component)==null?void 0:a.exposed)==null||e.show()}),d({close:()=>v(this,null,function*(){var a,e;yield(e=(a=i.component)==null?void 0:a.exposed)==null?void 0:e.hide(),b(null,o),document.body.removeChild(o),m=!1,g()})})})}export{D as l};
