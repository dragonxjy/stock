var P=(g,i,n)=>new Promise((w,a)=>{var t=e=>{try{o(n.next(e))}catch(p){a(p)}},m=e=>{try{o(n.throw(e))}catch(p){a(p)}},o=e=>e.done?w(e.value):Promise.resolve(e.value).then(t,m);o((n=n.apply(g,i)).next())});import{_ as S}from"./index-BMe1pI0l.js";import{a as E,A as b,S as B,r as f,R as N,p as k,o as C,e as u,w as v,B as d,E as c,X as y,Y as U}from"./vendor-DixqdoKt.js";import{_ as q}from"./MainButton.vue_vue_type_script_setup_true_lang-B7_wmTtQ.js";import{_ as R}from"./index-Blhuho0a.js";import{c as T,P as A,S as M,_ as D}from"./index-BXVDO5jB.js";import{E as V}from"./jsencrypt-DRqIJ4B0.js";const F={class:"password_settings_form"},L={class:"formItem"},X={class:"formItem"},Y={class:"formItem"},j=E({__name:"index",setup(g){const i=T(),n=b(),{t:w}=B(),a=f(""),t=f(""),m=f(""),o=N({userId:"",password:"",newPassword:""}),e=f(!1),p=()=>P(this,null,function*(){e.value=!0;try{o.userId=i.userInfo.id,o.password=V(a.value),o.newPassword=V(t.value),yield A(o),M(w("ModificationSuccessful")),i.userInfo={},i.token="",a.value="",t.value="",m.value="",n.push("/login")}catch(s){e.value=!1}finally{e.value=!1}});return(s,l)=>{const _=R,I=q,h=U,$=S;return C(),k("div",F,[u(h,{ref:"formRef",class:"forms",onSubmit:p},{default:v(()=>[d("div",L,[d("p",null,c(s.$t("Enter Current Password")),1),u(_,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=r=>a.value=r),type:"password",class:"custom-field",autocomplete:"off",rules:[{required:!0,message:s.$t("Pleaseentertheoldpassword")}]},null,8,["modelValue","rules"])]),d("div",X,[d("p",null,c(s.$t("Enter New Password")),1),u(_,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=r=>t.value=r),type:"password",class:"custom-field",autocomplete:"off",maxlength:"12",rules:[{required:!0,message:s.$t("Pleaseenterthenewpassword")}]},null,8,["modelValue","rules"])]),d("div",Y,[d("p",null,c(s.$t("Confirm New Password")),1),u(_,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=r=>m.value=r),type:"password",class:"custom-field",autocomplete:"off",maxlength:"12",rules:[{required:!0,message:s.$t("Pleaseentertheconfirmpassword"),validator:(r,x,z)=>r!=t.value?s.$t("samePasswords"):!0}]},null,8,["modelValue","rules"])]),u(I,{loading:e.value},{default:v(()=>[y(c(s.$t("Submit")),1)]),_:1},8,["loading"])]),_:1},512),u($,null,{default:v(()=>[y(c(s.$t("In case you are facing issues while setting up your password on the app, you can instantly set the password on our website.")),1)]),_:1})])}}}),Z=D(j,[["__scopeId","data-v-c8335d5b"]]);export{Z as default};
