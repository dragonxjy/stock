import{al as u}from"./vendor-DixqdoKt.js";const h=""+new URL("../png/empty-B34yRa1k.png",import.meta.url).href,p=t=>t?u(t).format("DD-MM-YY HH:mm:ss"):"",y=t=>t.toLocaleString(),R=t=>new URL(Object.assign({"../assets/images/empty.png":h})[`../assets/images/${t}`],import.meta.url).href;function _(t){const i=parseFloat(t);return i>0?"font_green":i<0?"font_red":"font_gray"}const b=t=>new Promise((i,l)=>{if(!t||!window.FileReader||!/^image/.test(t.type))return l();if(t.size<100*1024)return i(t);const d=n=>{const e=document.createElement("canvas"),a=e.getContext("2d"),c=n.src.length;let{width:s,height:o}=n,r=s*o/8e5;r>1&&(r=Math.sqrt(r),s/=r,o/=r),e.width=s,e.height=o,a.fillStyle="#fff",a.fillRect(0,0,e.width,e.height),a.drawImage(n,0,0,s,o);const m=e.toDataURL(t.type,.8);return console.log("******压缩前的图片大小******",c),console.log("******压缩后的图片大小******",m.length),m},g=(n,e)=>{const a=n.split(","),c=a[0].match(/:(.*?);/)[1],s=window.atob(a[1]);let o=s.length;const r=new Uint8Array(o);for(;o--;)r[o]=s.charCodeAt(o);const m=new window.Blob([r],{type:c});return new window.File([m],`${new Date().getTime()}-${e}`,{type:c,lastModified:Date.now()})},w=new window.FileReader;w.readAsDataURL(t),w.onloadend=function(){const n=new window.Image;n.src=this.result,n.onload=()=>{const e=d(n);return i(g(e,t.name))}}});export{y as a,b as c,p as f,_ as g,R as u};
