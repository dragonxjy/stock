var h=(f,c,o)=>new Promise((a,i)=>{var e=s=>{try{n(o.next(s))}catch(u){i(u)}},t=s=>{try{n(o.throw(s))}catch(u){i(u)}},n=s=>s.done?a(s.value):Promise.resolve(s.value).then(e,t);n((o=o.apply(f,c)).next())});import{g as b}from"./index-BW6EuzMu.js";import{p as v}from"./big-Bs49lsdF.js";import{F as y,_ as k}from"./index-BXVDO5jB.js";import{a as P,r as m,N as w,a8 as x,a9 as C,a6 as N,a7 as S,u as r,o as l,p as _,B as p,M as B,O as D,D as d,E as g,F as L,X as E}from"./vendor-DixqdoKt.js";import{u as F,a as I}from"./stock-X0YulnmI.js";const K={class:"table_box_outside",id:"scrollWrapper"},V={class:"table_box",id:"scrollContent"},M={class:"font_title"},O={key:0},j=P({__name:"indicator",setup(f){F();const c=I(),o=m([]),a=m(!1),i=()=>h(this,null,function*(){a.value=!0;try{const e=yield y({});e.code===200&&(o.value=[...e.body.records,...e.body.records])}finally{a.value=!1}o.value.length!=0&&C.subscribe(c.wsKey,(e,t)=>{o.value.forEach(n=>{n.pid==t.pid&&Object.assign(n,{last:t.last_numeric,chgPct:t.pcp,chg:t.pc,high:t.high,low:t.low})})})});return w(()=>{i()}),x(()=>{C.unsubscribe(c.wsKey)}),(e,t)=>{const n=N("loading");return S((l(),_("div",K,[p("div",V,[(l(!0),_(B,null,D(r(o),s=>(l(),_("div",{key:s.title,class:d({bg_green:s.chgPct>=0,bg_red:s.chgPct<0,content_box:!0})},[p("p",M,g(s.indexName),1),p("p",{class:d(["font_num",("getColorClass"in e?e.getColorClass:r(b))(s.chgPct)])},g(s.last),3),p("p",{class:d(["font_count",("getColorClass"in e?e.getColorClass:r(b))(s.chgPct)])},[s.chgPct>=0?(l(),_("span",O,"+")):L("",!0),E(" "+g(("point_"in e?e.point_:r(v))(s.chgPct))+"% ",1)],2)],2))),128))])])),[[n,r(a)]])}}}),q=k(j,[["__scopeId","data-v-ddb447aa"]]);export{q as _};
