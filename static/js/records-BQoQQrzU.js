var y=(w,l,c)=>new Promise((e,r)=>{var g=d=>{try{p(c.next(d))}catch(h){r(h)}},b=d=>{try{p(c.throw(d))}catch(h){r(h)}},p=d=>d.done?e(d.value):Promise.resolve(d.value).then(g,b);p((c=c.apply(w,l)).next())});import{a as I,A as U,S as F,r as $,R,p as u,o as _,e as f,w as v,V as z,u as i,B as s,M as m,O as N,E as t,D as P,I as B,W as T}from"./vendor-DixqdoKt.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang-Cd_OulVb.js";import{f as q,_ as A}from"./index-BXVDO5jB.js";import{f as V}from"./index-BW6EuzMu.js";const E={class:"ipo"},M={class:"ipoList"},Q={class:"record-header"},O={class:"stock-info"},Y={class:"stock-name"},j={class:"tip"},G={class:"stock-exchange"},H={class:"stock-code"},J={class:"record-details"},K={class:"detail-row"},X={class:"label"},Z={class:"value red"},x={class:"detail-row"},ss={class:"label"},as={class:"value red"},ts={class:"detail-row"},es={class:"label"},os={class:"value"},is={class:"detail-row"},ns={class:"label"},ds={class:"value date"},ls={class:"ipoList"},cs={class:"record-header"},rs={class:"stock-info"},us={class:"stock-name"},_s={class:"tip"},ps={class:"stock-exchange"},hs={class:"stock-code"},fs={class:"record-details"},vs={class:"detail-row"},gs={class:"label"},bs={class:"value red"},ys={class:"detail-row"},ws={class:"label"},Ls={class:"value red"},ks={key:0},Ss={key:1},$s={class:"detail-row"},ms={class:"label"},Ns={class:"value"},Ps={class:"detail-row"},Vs={class:"label"},Cs={class:"value"},Ds={class:"detail-row"},Is={class:"label"},Us={class:"value date"},Fs=I({__name:"records",setup(w){U();const{t:l}=F(),c=$(0),e=R({ipoList:[],loading:!1,finished:!1,total:0}),r=$({pageNum:1,pageSize:10,order:"desc",orderField:"create_date",statusStrList:""});let g=0;const b=()=>y(this,null,function*(){const o=++g,n=yield q(r.value);if(o!==g){e.loading=!1;return}n.code===200&&(e.ipoList=[...e.ipoList,...n.body.records||[]],e.total=n.body.total,n.body.records.length<r.value.pageSize?e.finished=!0:r.value.pageNum++),e.loading=!1}),p=()=>{r.value.pageNum=1,r.value.statusStrList=c.value===0?"":"3,4",e.ipoList=[],e.finished=!1,e.total=0,e.loading=!1},d=()=>y(this,null,function*(){e.loading=!1,yield b()}),h=()=>y(this,null,function*(){p(),e.loading=!0,yield b()}),L=o=>{switch(o){case 1:return"status-waiting";case 2:return"status-fail";case 3:return"status-success";case 4:return"status-unpaid";case 5:return"status-partial";case 6:return"status-paid";case 7:return"status-transferred";default:return"status-default"}},C=o=>{switch(o){case 1:return l("Waiting")+"...";case 2:return l("Fail");case 3:return l("Alreadysigned");case 4:return l("Unpaid");case 5:return l("Partiallyunpaid");case 6:return l("Paidalready");case 7:return l("Transferredpositions2");default:return""}};return(o,n)=>{const k=W,S=z,D=T;return _(),u("div",E,[f(D,{active:i(c),"onUpdate:active":n[2]||(n[2]=a=>B(c)?c.value=a:null),onChange:h},{default:v(()=>[f(S,{title:o.$t("SubscriptionRecords")},{default:v(()=>[f(k,{modelValue:i(e).loading,"onUpdate:modelValue":n[0]||(n[0]=a=>i(e).loading=a),list:i(e).ipoList,finished:i(e).finished,onLoad:d,class:"ipoLists"},{default:v(()=>[s("div",M,[(_(!0),u(m,null,N(i(e).ipoList,a=>(_(),u("div",{class:"record-item",key:a.id},[s("div",Q,[s("div",O,[s("div",Y,t(a.name),1),s("div",j,[s("span",G,t(a.exchange),1),s("span",H,t(a.code),1)])]),s("div",{class:P(["status-badge",L(a.status)])},t(a.status===2?o.$t("Fail"):o.$t("Waiting")+"..."),3)]),s("div",J,[s("div",K,[s("span",X,t(o.$t("Unitprice")),1),s("span",Z,t(a.buyPrice),1)]),s("div",x,[s("span",ss,t(o.$t("Quantity")),1),s("span",as,t(a.status===3||a.status===4?a.finalNum:a.applyNum),1)]),s("div",ts,[s("span",es,t(o.$t("Numberallocation")),1),s("span",os,t(a.orderSn),1)]),s("div",is,[s("span",ns,t(o.$t("Subscriptiondate")),1),s("span",ds,t(i(V)(a.status===3||a.status===4?a.finalDate:a.createDate)),1)])])]))),128))])]),_:1},8,["modelValue","list","finished"])]),_:1},8,["title"]),f(S,{title:o.$t("WinningRecords")},{default:v(()=>[f(k,{modelValue:i(e).loading,"onUpdate:modelValue":n[1]||(n[1]=a=>i(e).loading=a),list:i(e).ipoList,finished:i(e).finished,onLoad:d,class:"ipoLists"},{default:v(()=>[s("div",ls,[(_(!0),u(m,null,N(i(e).ipoList,a=>(_(),u("div",{class:"record-item",key:a.id},[s("div",cs,[s("div",rs,[s("div",us,t(a.name),1),s("div",_s,[s("span",ps,t(a.exchange),1),s("span",hs,t(a.code),1)])]),s("div",{class:P(["status-badge",L(a.status)])},t(C(a.status)),3)]),s("div",fs,[s("div",vs,[s("span",gs,t(o.$t("PriceUnitprice")),1),s("span",bs,t(a.orderPrice||0)+" / "+t(a.buyPrice||0),1)]),s("div",ys,[s("span",ws,t(o.$t("PaidUnpaid")),1),s("span",Ls,[a.ipoFreeze===null?(_(),u("span",ks,"0 / "+t(a.orderPrice||0),1)):(_(),u("span",Ss,t(a.ipoSubBalance||0)+" / "+t(a.ipoFreeze||0),1))])]),s("div",$s,[s("span",ms,t(o.$t("Quantity")),1),s("span",Ns,t(a.finalNum||0),1)]),s("div",Ps,[s("span",Vs,t(o.$t("Numberallocation")),1),s("span",Cs,t(a.orderSn),1)]),s("div",Ds,[s("span",Is,t(o.$t("Subscriptiondate")),1),s("span",Us,t(i(V)(a.finalDate)),1)])])]))),128))])]),_:1},8,["modelValue","list","finished"])]),_:1},8,["title"])]),_:1},8,["active"])])}}}),qs=A(Fs,[["__scopeId","data-v-1e0dbf6f"]]);export{qs as default};
